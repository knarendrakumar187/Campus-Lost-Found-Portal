{% extends 'lostfound/base.html' %}

{% block title %}Lost Items{% endblock %}

{% block content %}
<h2>Lost Items</h2>

<!-- Search Form -->
<div class="search-section">
    <form method="get" class="search-form">
        <input type="text" name="q" placeholder="Search by keyword..." value="{{ query }}" class="search-input">
        <select name="category" class="search-select">
            <option value="">All Categories</option>
            <option value="electronics" {% if category == 'electronics' %}selected{% endif %}>Electronics</option>
            <option value="clothing" {% if category == 'clothing' %}selected{% endif %}>Clothing</option>
            <option value="books" {% if category == 'books' %}selected{% endif %}>Books</option>
            <option value="accessories" {% if category == 'accessories' %}selected{% endif %}>Accessories</option>
            <option value="documents" {% if category == 'documents' %}selected{% endif %}>Documents</option>
            <option value="other" {% if category == 'other' %}selected{% endif %}>Other</option>
        </select>
        <button type="submit" class="btn btn-primary">Search</button>
        {% if query or category %}
            <a href="{% url 'lost_items_list' %}" class="btn btn-secondary">Clear</a>
        {% endif %}
    </form>
</div>

<!-- Items Grid -->
{% if items %}
    <div class="items-grid">
        {% for item in items %}
            <a href="{% url 'lost_item_detail' item.pk %}" class="item-card-link">
                <div class="item-card">
                    {% if item.image %}
                        <img src="{{ item.image.url }}" alt="{{ item.title }}">
                    {% else %}
                        <div class="no-image">No Image</div>
                    {% endif %}
                    <div class="item-info">
                        <h3>{{ item.title }}</h3>
                        <p class="category">{{ item.get_category_display }}</p>
                        <p class="location">üìç {{ item.location_lost }}</p>
                        <p class="date">Lost on: {{ item.date_lost }}</p>
                        <p class="status">Status: <span class="status-{{ item.status }}">{{ item.get_status_display }}</span></p>
                        <div class="view-details-btn">
                            üëÅÔ∏è View Details & Contact ‚Üí
                        </div>
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
{% else %}
    <p class="no-results">No lost items found. {% if query or category %}Try different search terms.{% endif %}</p>
{% endif %}
{% endblock %}

